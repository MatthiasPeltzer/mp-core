<html data-namespace-typo3-fluid="true" lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers">
<f:if condition="{menuMainMobile}">
    <div class="main-nav-wrapper" id="main-menu-list">
        <div class="container-md">
            <div class="meta-mobile" id="meta-mobile">
                <f:render arguments="{_all}" partial="Navigation/Tertiary/NavMeta"/>
            </div>
            <ul class="main-menu list-unstyled row">
                <f:for as="mainItem" each="{menuMainMobile}">
                    <li class="col{f:if(condition:'{mainItem.data.doktype} == 4', then:' shortcut')}">
                        <f:if condition="{mainItem.children}">
                            <f:then>
                                <f:if condition="{mainItem.children}">
                                    <f:if condition="{mainItem.current}">
                                        <f:then>
                                            <f:link.page aria="{current: 'page'}" class="first-child dropdown-item{f:if(condition:mainItem.active, then:' act')}{f:if(condition:mainItem.current, then:' current')}{f:if(condition:mainItem.hasSubpages, then:' hassub')}" pageUid="{mainItem.data.uid}">
                                                {mainItem.title}
                                            </f:link.page>
                                        </f:then>
                                        <f:else>
                                            <f:link.page class="first-child dropdown-item{f:if(condition:mainItem.active, then:' act')}{f:if(condition:mainItem.current, then:' current')}{f:if(condition:mainItem.hasSubpages, then:' hassub')}" pageUid="{mainItem.data.uid}">
                                                {mainItem.title}
                                            </f:link.page>
                                        </f:else>
                                    </f:if>
                                    <button aria-controls="menu-{mainItem.data.uid}" aria-expanded="false" class="dropdown-item-button collapsed dropdown-item{f:if(condition:mainItem.active, then:' act')}{f:if(condition:mainItem.current, then:' current')}{f:if(condition:mainItem.hasSubpages, then:' hassub')}" data-bs-target="#menu-{mainItem.data.uid}" data-bs-toggle="collapse" type="button">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
                                            <path d="M3.204 5h9.592L8 10.481zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659"/>
                                        </svg>
                                    </button>
                                    <ul class="list-unstyled collapse" id="menu-{mainItem.data.uid}">
                                        <f:for as="mainChild" each="{mainItem.children}">
                                            <f:render arguments="{mainChild: mainChild}" section="submenu"/>
                                        </f:for>
                                    </ul>
                                </f:if>
                            </f:then>
                            <f:else>
                                <f:if condition="{mainItem.current}">
                                    <f:then>
                                        <f:link.page aria="{current: 'page'}" class="first-child dropdown-item{f:if(condition:mainItem.active, then:' act')}{f:if(condition:mainItem.current, then:' current')}{f:if(condition:mainItem.hasSubpages, then:' hassub')}" pageUid="{mainItem.data.uid}">
                                            {mainItem.title}
                                        </f:link.page>
                                    </f:then>
                                    <f:else>
                                        <f:link.page class="first-child dropdown-item{f:if(condition:mainItem.active, then:' act')}{f:if(condition:mainItem.current, then:' current')}{f:if(condition:mainItem.hasSubpages, then:' hassub')}" pageUid="{mainItem.data.uid}">
                                            {mainItem.title}
                                        </f:link.page>
                                    </f:else>
                                </f:if>
                            </f:else>
                        </f:if>
                    </li>
                </f:for>
            </ul>
        </div>
    </div>
</f:if>

<f:section name="submenu">
    <f:if condition="{mainChild.children}">
        <f:then>
            <li
                {f:if(condition:
            '{mainChild.data.doktype} == 4', then:' class="shortcut"')}>
            <f:if condition="{mainChild.current}">
                <f:then>
                    <f:link.page aria="{current: 'page'}" class="sub dropdown-item{f:if(condition:mainChild.active, then:' act')}{f:if(condition:mainChild.current, then:' current')}{f:if(condition:mainChild.hasSubpages, then:' hassub')}" pageUid="{mainChild.data.uid}">
                        {mainChild.title}
                    </f:link.page>
                </f:then>
                <f:else>
                    <f:link.page class="sub dropdown-item{f:if(condition:mainChild.active, then:' act')}{f:if(condition:mainChild.current, then:' current')}{f:if(condition:mainChild.hasSubpages, then:' hassub')}" pageUid="{mainChild.data.uid}">
                        {mainChild.title}
                    </f:link.page>
                </f:else>
            </f:if>
            <button aria-controls="menu-{mainChild.data.uid}" aria-expanded="false" class="dropdown-item-button collapsed dropdown-item{f:if(condition:mainChild.active, then:' act')}{f:if(condition:mainChild.current, then:' current')}{f:if(condition:mainChild.hasSubpages, then:' hassub')}" data-bs-target="#menu-{mainChild.data.uid}" data-bs-toggle="collapse" type="button">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
                    <path d="M3.204 5h9.592L8 10.481zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659"/>
                </svg>
            </button>
            <ul class="list-unstyled collapse" id="menu-{mainChild.data.uid}">
                <f:for as="mainChild" each="{mainChild.children}">
                    <f:render arguments="{mainChild: mainChild}" section="submenu"/>
                </f:for>
            </ul>
            </li>
        </f:then>
        <f:else>
            <li
                {f:if(condition:
            '{mainChild.data.doktype} == 4', then:' class="shortcut"')}>
            <f:if condition="{mainChild.current}">
                <f:then>
                    <f:link.page aria="{current: 'page'}" class="sub dropdown-item{f:if(condition:mainChild.active, then:' act')}{f:if(condition:mainChild.current, then:' current')}{f:if(condition:mainChild.hasSubpages, then:' hassub')}" pageUid="{mainChild.data.uid}">
                        {mainChild.title}
                    </f:link.page>
                </f:then>
                <f:else>
                    <f:link.page class="sub dropdown-item{f:if(condition:mainChild.active, then:' act')}{f:if(condition:mainChild.current, then:' current')}{f:if(condition:mainChild.hasSubpages, then:' hassub')}" pageUid="{mainChild.data.uid}">
                        {mainChild.title}
                    </f:link.page>
                </f:else>
            </f:if>
            </li>
        </f:else>
    </f:if>
</f:section>

<!-- Skript nur ausf端hren, wenn #main-menu-list im DOM vorhanden ist -->
<script>
(function(){
    var el = document.getElementById('main-menu-list');
    if (!el) return;

    // Hier gew端nschten JavaScript-Code einf端gen oder externes Script laden
    // Beispiel: externes Men端-Skript nachladen (Pfad anpassen) oder Initialisierung aufrufen
    // var s = document.createElement('script');
    // s.src = '/path/to/your-menu.js';
    // s.defer = true;
    // document.head.appendChild(s);

</html>
